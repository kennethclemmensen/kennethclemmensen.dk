!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var s,n,i,a,o;r.r(t),function(e){e.Click="click",e.DOMContentLoaded="DOMContentLoaded",e.Error="error",e.Keydown="keydown",e.Keypress="keypress",e.Load="load"}(s||(s={})),function(e){e.Get="get",e.Put="put"}(n||(n={})),function(e){e[e.Ok=200]="Ok"}(i||(i={})),function(e){e.AboutMePage="/om-mig",e.ApiFileDownloads="/wp-json/kcapi/v1/fileDownloads?fileid=",e.ApiPages="/wp-json/kcapi/v1/pages/",e.Frontpage="/",e.ImagesPage="/billeder",e.JavaPage="/java",e.MoviePage="/film",e.PhpPage="/php",e.SearchPage="/soeg",e.SitemapPage="/sitemap"}(a||(a={}));class l{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.search()}},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open(n.Get,a.ApiPages+this.searchString,!0),e.addEventListener(s.Load,()=>{this.results=e.status===i.Ok?JSON.parse(e.responseText):[]}),e.addEventListener(s.Error,()=>{this.results=[]}),e.send()}},components:{"search-results":{data:function(){return{offset:0,perPage:5}},methods:{previousPage:function(){this.offset-=this.perPage},nextPage:function(){this.offset+=this.perPage}},props:{results:{required:!0,type:Array},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + perPage))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div>\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - perPage)">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}!function(e){e[e.B=66]="B",e[e.F=70]="F",e[e.J=74]="J",e[e.O=79]="O",e[e.P=80]="P",e[e.S=83]="S"}(o||(o={}));class d{initialize(){this.setupKeypressEventListener(),this.setupKeydownEventListener()}setupKeypressEventListener(){document.addEventListener(s.Keypress,e=>{if(e.shiftKey)switch(e.keyCode){case o.B:this.redirectToUrl(a.ImagesPage);break;case o.F:this.redirectToUrl(a.Frontpage);break;case o.J:this.redirectToUrl(a.JavaPage);break;case o.O:this.redirectToUrl(a.AboutMePage);break;case o.P:this.redirectToUrl(a.PhpPage);break;case o.S:this.redirectToUrl(a.SearchPage)}})}setupKeydownEventListener(){document.addEventListener(s.Keydown,e=>{if(e.ctrlKey&&e.shiftKey)switch(e.keyCode){case o.F:this.redirectToUrl(a.MoviePage);break;case o.S:this.redirectToUrl(a.SitemapPage)}})}redirectToUrl(e){location.href=e}}class u{constructor(){this.sliderImages=jQuery(".slider__image"),this.currentRandomNumber=-1}getRandomNumber(){let e=Math.floor(Math.random()*this.sliderImages.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}showSlides(e,t){let r=this.getRandomNumber();this.sliderImages.eq(r).show(),setInterval(()=>{this.sliderImages.eq(r).fadeOut(e,()=>{r=this.getRandomNumber(),this.sliderImages.eq(r).fadeIn(e)})},t)}}(new class{initialize(){document.addEventListener(s.DOMContentLoaded,()=>{this.body=document.body,this.setupApp()})}setupApp(){(new d).initialize(),this.setupMobileMenu(),this.setupDownloadLinks();let e=document.getElementById("slider");(new u).showSlides(e.dataset.delay,e.dataset.duration),lightbox.option({albumLabel:this.body.dataset.imageText+" %1 "+this.body.dataset.ofText+" %2"}),new l}setupMobileMenu(){let e=document.getElementById("mobile-menu-trigger"),t=document.getElementById("mobile-menu");e.addEventListener(s.Click,r=>{r.preventDefault(),e.classList.toggle("header__nav-trigger--active"),t.classList.toggle("mobile-nav--active"),document.documentElement.classList.toggle("show-mobile-menu"),this.body.classList.toggle("show-mobile-menu")}),document.querySelectorAll(".mobile-nav__arrow").forEach(e=>{e.addEventListener(s.Click,t=>{t.preventDefault(),e.classList.toggle("mobile-nav__arrow--rotated");let r=e.parentNode.parentNode.getElementsByClassName("sub-menu")[0];r.style.display="block"===r.style.display?"none":"block"})})}setupDownloadLinks(){document.querySelectorAll(".fdwc__link").forEach(e=>{e.addEventListener(s.Click,()=>{let t=a.ApiFileDownloads+e.dataset.fileId,r=new XMLHttpRequest;r.open(n.Put,t,!0),r.addEventListener(s.Load,()=>{if(r.status===i.Ok){let r=new XMLHttpRequest;r.open(n.Get,t,!0),r.addEventListener(s.Load,()=>{let t=e.parentNode.querySelector("span.fdwc__downloads");t.innerText=r.status===i.Ok?r.responseText:parseInt(t.innerText)+1}),r.send()}}),r.send()})})}}).initialize()}]);