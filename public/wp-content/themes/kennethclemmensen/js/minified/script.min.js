class App{constructor(){this.setupApp()}setupApp(){document.addEventListener("DOMContentLoaded",()=>{this.body=document.querySelector("body"),this.setupMobileNavigation(),this.setupDownloadLinks();let e=document.getElementById("slider");new Slider(e.dataset.delay,e.dataset.duration),lightbox.option({albumLabel:this.body.dataset.imageText+" %1 "+this.body.dataset.ofText+" %2"}),new SearchApp})}setupMobileNavigation(){let e=document.getElementById("mobile-menu-trigger"),t=document.getElementById("mobile-menu");e.addEventListener("click",s=>{s.preventDefault(),e.classList.toggle("header__nav-trigger--active"),t.classList.toggle("mobile-nav--active"),document.getElementsByTagName("html")[0].classList.toggle("show-mobile-menu"),this.body.classList.toggle("show-mobile-menu")}),document.querySelectorAll(".mobile-nav__arrow").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.classList.toggle("mobile-nav__arrow--rotated");let s=e.parentNode.parentNode.getElementsByClassName("sub-menu")[0];s.style.display="block"===s.style.display?"none":"block"})})}setupDownloadLinks(){jQuery(".fdwc__link").on("click",function(){let e=jQuery(this);jQuery.ajax({method:"post",dataType:"json",url:"/wp-admin/admin-ajax.php",data:{action:"fdwc_download",file_id:e.data("file-id")},success:function(t){e.parent().find(".fdwc__downloads").html(t)}})})}}new App;class SearchApp{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.search()}},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open("get","/wp-json/kcapi/v1/pages/"+this.searchString,!0),e.addEventListener("load",()=>{this.results=200===e.status?JSON.parse(e.responseText):[]}),e.addEventListener("error",()=>{this.results=[]}),e.send()}},components:{"search-results":{data:function(){return{offset:0,perPage:5}},methods:{previousPage:function(){this.offset-=this.perPage},nextPage:function(){this.offset+=this.perPage}},props:{results:{required:!0,type:Array},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + perPage))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div>\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - perPage)">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}class Slider{constructor(e,t){this.delay=e,this.duration=t,this.sliderImages=jQuery(".slider__image"),this.currentRandomNumber=-1,this.showSlider()}getRandomNumber(){let e=Math.floor(Math.random()*this.sliderImages.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}showSlider(){let e=this.getRandomNumber();this.sliderImages.eq(e).show(),setInterval(()=>{this.sliderImages.eq(e).fadeOut(this.duration,()=>{e=this.getRandomNumber(),this.sliderImages.eq(e).fadeIn(this.duration)})},this.delay)}}