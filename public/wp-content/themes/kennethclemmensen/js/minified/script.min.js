!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n,s,i,a,o;r.r(t),function(e){e.Click="click",e.DOMContentLoaded="DOMContentLoaded",e.Error="error",e.Keydown="keydown",e.Keypress="keypress",e.Load="load"}(n||(n={})),function(e){e.Get="get",e.Put="put"}(s||(s={})),function(e){e[e.Ok=200]="Ok"}(i||(i={})),function(e){e.AboutMePage="/om-mig",e.ApiFileDownloads="/wp-json/kcapi/v1/fileDownloads?fileid=",e.ApiPages="/wp-json/kcapi/v1/pages/",e.Frontpage="/",e.ImagesPage="/billeder",e.JavaPage="/java",e.MoviePage="/film",e.PhpPage="/php",e.SearchPage="/soeg",e.SitemapPage="/sitemap"}(a||(a={}));class l{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.search()}},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open(s.Get,a.ApiPages+this.searchString,!0),e.addEventListener(n.Load,()=>{this.results=e.status===i.Ok?JSON.parse(e.responseText):[]}),e.addEventListener(n.Error,()=>{this.results=[]}),e.send()}},components:{"search-results":{data:function(){return{offset:0,perPage:5}},methods:{previousPage:function(){this.offset-=this.perPage},nextPage:function(){this.offset+=this.perPage}},props:{results:{required:!0,type:Array},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + perPage))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div>\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - perPage)">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}!function(e){e[e.B=66]="B",e[e.F=70]="F",e[e.J=74]="J",e[e.O=79]="O",e[e.P=80]="P",e[e.S=83]="S"}(o||(o={}));class d{initialize(){this.setupKeypressEventListener(),this.setupKeydownEventListener()}setupKeypressEventListener(){document.addEventListener(n.Keypress,e=>{if(e.shiftKey)switch(e.keyCode){case o.B:this.redirectToUrl(a.ImagesPage);break;case o.F:this.redirectToUrl(a.Frontpage);break;case o.J:this.redirectToUrl(a.JavaPage);break;case o.O:this.redirectToUrl(a.AboutMePage);break;case o.P:this.redirectToUrl(a.PhpPage);break;case o.S:this.redirectToUrl(a.SearchPage)}})}setupKeydownEventListener(){document.addEventListener(n.Keydown,e=>{if(e.ctrlKey&&e.shiftKey)switch(e.keyCode){case o.F:this.redirectToUrl(a.MoviePage);break;case o.S:this.redirectToUrl(a.SitemapPage)}})}redirectToUrl(e){location.href=e}}class u{constructor(){this.sliderImages=jQuery(".slider__image"),this.currentRandomNumber=-1}getRandomNumber(){let e=Math.floor(Math.random()*this.sliderImages.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}showSlides(e,t){let r=this.getRandomNumber();this.sliderImages.eq(r).show(),setInterval(()=>{this.sliderImages.eq(r).fadeOut(e,()=>{r=this.getRandomNumber(),this.sliderImages.eq(r).fadeIn(e)})},t)}}(new class{constructor(){this.body=document.body}initialize(){document.addEventListener(n.DOMContentLoaded,()=>{this.setupSlider(),this.setupMobileMenu(),this.setupDownloadLinks(),lightbox.option({albumLabel:this.body.dataset.imageText+" %1 "+this.body.dataset.ofText+" %2"}),new l,(new d).initialize()})}setupSlider(){let e=document.getElementById("slider");if(e){let t=e.dataset,r=500,n=t.delay?parseInt(t.delay):r,s=8e3,i=t.duration?parseInt(t.duration):s;(new u).showSlides(n,i)}}setupMobileMenu(){let e=document.getElementById("mobile-menu-trigger"),t=document.getElementById("mobile-menu");e&&e.addEventListener(n.Click,r=>{r.preventDefault(),e&&e.classList.toggle("header__nav-trigger--active"),t&&t.classList.toggle("mobile-menu--active"),document.documentElement.classList.toggle("show-mobile-menu"),this.body.classList.toggle("show-mobile-menu")}),document.querySelectorAll(".mobile-menu__arrow").forEach(e=>{e.addEventListener(n.Click,t=>{if(t.preventDefault(),e.classList.toggle("mobile-menu__arrow--rotated"),e.parentNode&&e.parentNode.parentElement){e.parentNode.parentElement.getElementsByClassName("sub-menu")[0].classList.toggle("show")}})})}setupDownloadLinks(){document.querySelectorAll(".fdwc__link").forEach(e=>{e.addEventListener(n.Click,()=>{let t=a.ApiFileDownloads+e.dataset.fileId,r=new XMLHttpRequest;r.open(s.Put,t,!0),r.addEventListener(n.Load,()=>{if(r.status===i.Ok&&e.parentNode){let r=e.parentNode.querySelector("span.fdwc__downloads");r&&this.updateNumberOfDownloads(r,t)}}),r.send()})})}updateNumberOfDownloads(e,t){let r=new XMLHttpRequest;r.open(s.Get,t,!0),r.addEventListener(n.Load,()=>{r.status===i.Ok?e.innerText=r.responseText:e.innerText=(parseInt(e.innerText)+1).toString()}),r.send()}}).initialize()}]);