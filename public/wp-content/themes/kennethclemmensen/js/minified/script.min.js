class App{constructor(){this.setupApp()}setupApp(){document.addEventListener("DOMContentLoaded",()=>{this.setupMobileNavigation();let e=document.getElementById("slider");new Slider(e.dataset.delay,e.dataset.duration);let t=document.querySelector("body");lightbox.option({albumLabel:t.dataset.imageText+" %1 "+t.dataset.ofText+" %2"}),new SearchApp})}setupMobileNavigation(){jQuery(".header__nav-trigger").on("click",e=>{e.preventDefault(),jQuery(".header__nav-trigger").toggleClass("header__nav-trigger--active"),jQuery(".mobile-nav").toggleClass("mobile-nav--active"),jQuery("html, body").toggleClass("show-mobile-nav")});jQuery(".mobile-nav__arrow").on("click",e=>{e.preventDefault(),jQuery(".mobile-nav__arrow").toggleClass("mobile-nav__arrow--rotated"),jQuery(".mobile-nav__arrow").parent().parent().find(".sub-menu").toggle()})}}new App;class SearchApp{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.search()}},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open("get","/wp-json/kcapi/v1/pages/"+this.searchString,!0),e.addEventListener("load",()=>{this.results=200===e.status?JSON.parse(e.responseText):[]}),e.addEventListener("error",()=>{this.results=[]}),e.send()}},components:{"search-results":{data:function(){return{offset:0,perPage:5}},methods:{previousPage:function(){this.offset-=this.perPage},nextPage:function(){this.offset+=this.perPage}},props:{results:{required:!0,type:Array},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + perPage))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div>\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - perPage)">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}class Slider{constructor(e,t){this.delay=e,this.duration=t,this.sliderImages=jQuery(".slider__image"),this.currentRandomNumber=-1,this.showSlider()}getRandomNumber(){let e=Math.floor(Math.random()*this.sliderImages.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}showSlider(){let e=this.getRandomNumber();this.sliderImages.eq(e).show(),setInterval(()=>{this.sliderImages.eq(e).fadeOut(this.duration,()=>{e=this.getRandomNumber(),this.sliderImages.eq(e).fadeIn(this.duration)})},this.delay)}}