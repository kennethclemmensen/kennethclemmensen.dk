!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r,s,o;n.r(t),function(e){e.Click="click",e.DOMContentLoaded="DOMContentLoaded",e.Error="error",e.Load="load"}(r||(r={})),function(e){e.Get="get",e.Put="put"}(s||(s={})),function(e){e[e.Ok=200]="Ok"}(o||(o={}));class i{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.search()}},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open(s.Get,"/wp-json/kcapi/v1/pages/"+this.searchString,!0),e.addEventListener(r.Load,()=>{this.results=e.status===o.Ok?JSON.parse(e.responseText):[]}),e.addEventListener(r.Error,()=>{this.results=[]}),e.send()}},components:{"search-results":{data:function(){return{offset:0,perPage:5}},methods:{previousPage:function(){this.offset-=this.perPage},nextPage:function(){this.offset+=this.perPage}},props:{results:{required:!0,type:Array},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + perPage))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div>\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - perPage)">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}class a{constructor(){this.sliderImages=jQuery(".slider__image"),this.currentRandomNumber=-1}getRandomNumber(){let e=Math.floor(Math.random()*this.sliderImages.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}showSlides(e,t){let n=this.getRandomNumber();this.sliderImages.eq(n).show(),setInterval(()=>{this.sliderImages.eq(n).fadeOut(e,()=>{n=this.getRandomNumber(),this.sliderImages.eq(n).fadeIn(e)})},t)}}new class{constructor(){this.setupApp()}setupApp(){document.addEventListener(r.DOMContentLoaded,()=>{this.body=document.querySelector("body"),this.setupMobileMenu(),this.setupDownloadLinks();let e=document.getElementById("slider");(new a).showSlides(e.dataset.delay,e.dataset.duration),lightbox.option({albumLabel:this.body.dataset.imageText+" %1 "+this.body.dataset.ofText+" %2"}),new i})}setupMobileMenu(){let e=document.getElementById("mobile-menu-trigger"),t=document.getElementById("mobile-menu");e.addEventListener(r.Click,n=>{n.preventDefault(),e.classList.toggle("header__nav-trigger--active"),t.classList.toggle("mobile-nav--active"),document.getElementsByTagName("html")[0].classList.toggle("show-mobile-menu"),this.body.classList.toggle("show-mobile-menu")}),document.querySelectorAll(".mobile-nav__arrow").forEach(e=>{e.addEventListener(r.Click,t=>{t.preventDefault(),e.classList.toggle("mobile-nav__arrow--rotated");let n=e.parentNode.parentNode.getElementsByClassName("sub-menu")[0];n.style.display="block"===n.style.display?"none":"block"})})}setupDownloadLinks(){document.querySelectorAll(".fdwc__link").forEach(e=>{e.addEventListener(r.Click,()=>{let t=new XMLHttpRequest,n="/wp-json/kcapi/v1/fileDownloads?fileid="+e.dataset.fileId;t.open(s.Put,n,!0),t.addEventListener(r.Load,()=>{if(t.status===o.Ok){let t=new XMLHttpRequest;t.open(s.Get,n,!0),t.addEventListener(r.Load,()=>{let n=e.parentNode.querySelector("span.fdwc__downloads");n.innerText=t.status===o.Ok?t.responseText:parseInt(n.innerText)+1}),t.send()}}),t.send()})})}}}]);