!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";var n,s,r,a,o,d;i.r(t),function(e){e.Click="click",e.DOMContentLoaded="DOMContentLoaded",e.Error="error",e.Keydown="keydown",e.Keypress="keypress",e.Load="load"}(n||(n={})),function(e){e.Fade="fade",e.SlideDown="slide_down",e.SlideRight="slide_right"}(s||(s={})),function(e){e.Get="get",e.Put="put"}(r||(r={})),function(e){e[e.Ok=200]="Ok"}(a||(a={})),function(e){e.AboutMePage="/om-mig",e.ApiFileDownloads="/wp-json/kcapi/v1/fileDownloads?fileid=",e.ApiFiles="/wp-json/kcapi/v1/files?type=",e.ApiPages="/wp-json/kcapi/v1/pages/",e.Frontpage="/",e.ImagesPage="/billeder",e.JavaPage="/java",e.MoviePage="/film",e.PhpPage="/php",e.SearchPage="/soeg",e.SitemapPage="/sitemap"}(o||(o={}));class l{constructor(){this.setupFilesApp()}setupFilesApp(){new Vue({el:"#files-app",components:{files:{data:()=>({files:[],offset:0}),created:function(){let e=new XMLHttpRequest;e.open(r.Get,o.ApiFiles+this.fileTypes,!0),e.addEventListener(n.Load,()=>{this.files=e.status===a.Ok?JSON.parse(e.responseText):[]}),e.addEventListener(n.Error,()=>{this.files=[]}),e.send()},methods:{previousPage:function(){this.offset-=parseInt(this.perPage)},nextPage:function(){this.offset+=parseInt(this.perPage)},updateFileDownloads:e=>{let t=new XMLHttpRequest;t.open(r.Put,o.ApiFileDownloads+e.id,!0),t.addEventListener(n.Load,()=>{t.status===a.Ok&&e.downloads++}),t.send()}},props:{fileTypes:{required:!0,type:String},perPage:{required:!0,type:Number},previousText:{required:!0,type:String},nextText:{required:!0,type:String},numberOfDownloadsText:{required:!0,type:String}},template:'\n                        <div>\n                            <div v-for="file in files.slice(offset, (offset + parseInt(perPage)))">\n                                <a :href="file.url" @click="updateFileDownloads(file)" rel="nofollow" download>{{ file.fileName }}</a>\n                                <p>{{ file.description }}</p>\n                                <p>{{ numberOfDownloadsText }} {{ file.downloads }}</p>\n                            </div>\n                            <div class="pagination">\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (files.length - parseInt(perPage))">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}class u{constructor(){this.setupSearchApp()}setupSearchApp(){new Vue({el:"#search-app",data:{searchString:"",results:[]},watch:{searchString:function(){this.debouncedSearch()}},created:function(){this.debouncedSearch=_.debounce(this.search,500)},methods:{search:function(){if(""===this.searchString)return void(this.results=[]);let e=new XMLHttpRequest;e.open(r.Get,o.ApiPages+this.searchString,!0),e.addEventListener(n.Load,()=>{this.results=e.status===a.Ok?JSON.parse(e.responseText):[]}),e.addEventListener(n.Error,()=>{this.results=[]}),e.send()}},components:{"search-results":{data:()=>({offset:0}),methods:{previousPage:function(){this.offset-=parseInt(this.perPage)},nextPage:function(){this.offset+=parseInt(this.perPage)}},props:{results:{required:!0,type:Array},perPage:{required:!0,type:Number},previousText:{required:!0,type:String},nextText:{required:!0,type:String}},watch:{results:function(){this.offset=0}},template:'\n                        <div>\n                            <div v-for="result in results.slice(offset, (offset + parseInt(perPage)))" :key="result.id">\n                                <a :href="result.link">{{ result.title }}</a>\n                                <p>{{ result.excerpt }}</p>\n                            </div>\n                            <div class="pagination">\n                                <a href="#" @click.prevent="previousPage" v-if="offset > 0">{{ previousText }}</a>\n                                <a href="#" @click.prevent="nextPage" v-if="offset < (results.length - parseInt(perPage))">{{ nextText }}</a>\n                            </div>\n                        </div>\n                    '}}})}}!function(e){e[e.B=66]="B",e[e.F=70]="F",e[e.J=74]="J",e[e.O=79]="O",e[e.P=80]="P",e[e.S=83]="S"}(d||(d={}));class c{initialize(){this.setupKeypressEventListener(),this.setupKeydownEventListener()}setupKeypressEventListener(){document.addEventListener(n.Keypress,e=>{if(e.shiftKey)switch(e.keyCode){case d.B:this.redirectToUrl(o.ImagesPage);break;case d.F:this.redirectToUrl(o.Frontpage);break;case d.J:this.redirectToUrl(o.JavaPage);break;case d.O:this.redirectToUrl(o.AboutMePage);break;case d.P:this.redirectToUrl(o.PhpPage);break;case d.S:this.redirectToUrl(o.SearchPage)}})}setupKeydownEventListener(){document.addEventListener(n.Keydown,e=>{if(e.ctrlKey&&e.shiftKey)switch(e.keyCode){case d.F:this.redirectToUrl(o.MoviePage);break;case d.S:this.redirectToUrl(o.SitemapPage)}})}redirectToUrl(e){location.href=e}}class p{constructor(){this.slides=document.getElementsByClassName("slider__slide"),this.currentRandomNumber=-1}showSlides(e,t,i){let n,r,a=document.getElementById("slider-image"),o=this.getRandomNumber(),d="data-slide-image",l=this.slides[o].getAttribute(d);if(!a||!l)return;this.setBackgroundImage(a,l);switch(i){case s.SlideDown:n=[{backgroundPositionY:0},{backgroundPositionY:a.clientHeight+"px"}],r=[{backgroundPositionY:a.clientHeight+"px"},{backgroundPositionY:0}];break;case s.SlideRight:n=[{backgroundPositionX:0},{backgroundPositionX:a.clientWidth+"px"}],r=[{backgroundPositionX:a.clientWidth+"px"},{backgroundPositionX:0}];break;default:n=[{opacity:1},{opacity:0}],r=[{opacity:0},{opacity:1}]}setInterval(()=>{a&&(a.animate(n,{duration:e}).onfinish=()=>{o=this.getRandomNumber(),l=this.slides[o].getAttribute(d),a&&l&&(this.setBackgroundImage(a,l),a.animate(r,{duration:e}))})},t)}getRandomNumber(){let e=Math.floor(Math.random()*this.slides.length);return this.currentRandomNumber===e?this.getRandomNumber():(this.currentRandomNumber=e,this.currentRandomNumber)}setBackgroundImage(e,t){e.style.backgroundImage='url("'+t+'")'}}new class{constructor(){this.body=document.body,document.addEventListener(n.DOMContentLoaded,()=>{this.setupSlider(),this.setupMobileMenu(),lightbox.option({albumLabel:this.body.dataset.imageText+" %1 "+this.body.dataset.ofText+" %2"}),new l,new u,(new c).initialize()})}setupSlider(){let e=document.getElementById("slider");if(e){let t=e.dataset,i=500,n=t.delay?parseInt(t.delay):i,r=8e3,a=t.duration?parseInt(t.duration):r,o=t.animation?t.animation:s.Fade;(new p).showSlides(n,a,o)}}setupMobileMenu(){let e=document.getElementById("mobile-menu-trigger"),t=document.getElementById("mobile-menu");e&&e.addEventListener(n.Click,i=>{i.preventDefault(),e&&t&&(e.classList.toggle("header__nav-trigger--active"),t.classList.toggle("mobile-menu--active"),document.documentElement.classList.toggle("show-mobile-menu"),this.body.classList.toggle("show-mobile-menu"))}),document.querySelectorAll(".mobile-menu__arrow").forEach(e=>{e.addEventListener(n.Click,t=>{if(t.preventDefault(),e.parentNode&&e.parentNode.parentElement){e.classList.toggle("mobile-menu__arrow--rotated"),e.parentNode.parentElement.getElementsByClassName("sub-menu")[0].classList.toggle("show")}})})}}}]);